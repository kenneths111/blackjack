<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Jack Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="cards.css" rel="stylesheet">
</head>

<body class="p-3 mb-2 bg-success text-white">

    <!-- Header for Banker -->
    <% if (winner === "Banker"){ %>
    <h1 class="display-6 text-center" style="color:#52db34">ðŸŽ‰ðŸŽ‰ Banker Wins! ðŸŽ‰ðŸŽ‰</h1>
    <% } else if (winner === "None") { %>
    <h1 class="display-6 text-center">Banker's Hand - Draw!</h1>
    <% } else {%>
    <h1 class="display-6 text-center">Banker's Hand</h1>
    <% } %>

    <!-- Total Points for Banker -->
    <% if (showBankerCards === false){ %>
    <p class="display-10 text-center">Total points: ???</p>
    <% } else { %>
    <p class="display-10 text-center">Total points: <%= bankerPoints %> </p>
    <% } %>

    <!-- Banker's Hand -->
    <div class="col hand hhand-compact active-hand">

        <% if (showBankerCards === false){ %>
        <img class="cards" src="cards/<%= bankerCards[0].img %>">
        <img class="cards" src="cards/Red_Back.svg">
        <% } else { %>
        <% for (let i = 0; i < bankerCards.length; i++){ %>
        <img class="cards" src="cards/<%= bankerCards[i].img %>">
        <% } %>
        <% } %>

    </div>

    <hr class="border border-danger border-2 opacity-50">

    <!-- Header for Player -->
    <% if (winner === "Player"){ %>
    <h1 class="display-6 text-center" style="color:#52db34">ðŸŽ‰ðŸŽ‰ Player Wins ðŸŽ‰ðŸŽ‰</h1>
    <% } else { %>
    <h1 class="display-6 text-center">Player's Hand</h1>
    <% } %>

    <!-- Total Points for Player -->
    <p class="display-10 text-center">Total points: <%= playerPoints %> </p>

    <!-- Player's Hand -->
    <div class="col hand hhand-compact active-hand">

        <% for (let i = 0; i < playerCards.length; i++){ %>
        <img class="cards" src="cards/<%= playerCards[i].img %>" width="70">
        <% } %>
    </div>

    <!-- Game Buttons: Hit, Stay and Next Game -->
    <div class="text-center">

        <!-- If Player hasn't hit 'Stay', then show 'Hit' and 'Stay' buttons -->
        <% if (showBankerCards === false && winner === ""){ %>

        <!-- If Player's points is less than 21, show 'Hit' button. Otherwise, disable 'Hit' button -->
        <% if (playerPoints < 21) { %>
        <form method="post" action="/hit">
            <button type="submit" style="width: 140px" class="btn btn-primary btn-lg">Hit</button>
        </form>
        <% } else { %>
        <button type="submit" style="width: 140px" class="btn btn-primary btn-lg" disabled>Hit</button>
        <% } %>

        <!-- Show 'Stay' button no matter what. -->
        <form method="post" action="/stay">
            <button type="submit" style="width: 140px" class="btn btn-danger btn-lg">Stay</button>
        </form>

        <!-- If Player has hit 'Stay', then show 'Next Game' button -->
        <% } else { %>
        <form method="post" action="/nextgame">
            <button type="submit" style="width: 140px" class="btn btn-warning btn-lg">Next Game</button>
        </form>
        <% } %>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
</body>

</html>